<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barber Express - Sistema de Reservas para Peluquerías</title>
    <style>
        /* Estilos generales */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #1a1a1a;
            color: #f5f5f5;
            min-height: 100vh;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%231a1a1a"/><path d="M0,50 L100,50" stroke="%23333" stroke-width="1"/><path d="M50,0 L50,100" stroke="%23333" stroke-width="1"/><rect x="45" y="45" width="10" height="10" fill="%23333"/></svg>');
            background-size: 30px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .text-center {
            text-align: center;
        }

        /* Estilos de la página principal */
        .header {
            margin-bottom: 40px;
            text-align: center;
            padding-top: 40px;
        }

        .header h1 {
            font-size: 2.5rem;
            color: #d4af37;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .header p {
            font-size: 1.2rem;
            color: #f5f5f5;
        }

        .card-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
            margin-top: 40px;
        }

        .card {
            background-color: #222;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 400px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid #333;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
        }

        .card-header {
            padding: 20px;
            text-align: center;
        }

        .card-icon {
            width: 80px;
            height: 80px;
            background-color: #333;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            border: 2px solid #d4af37;
        }

        .card-icon svg {
            width: 40px;
            height: 40px;
            color: #d4af37;
        }

        .card-title {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #d4af37;
        }

        .card-description {
            color: #ccc;
            margin-bottom: 15px;
        }

        .card-content {
            padding: 0 20px 20px;
            text-align: center;
            color: #bbb;
        }

        .card-footer {
            padding: 20px;
            text-align: center;
        }

        .btn {
            display: inline-block;
            background-color: #d4af37;
            color: #1a1a1a;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s;
            width: 100%;
        }

        .btn:hover {
            background-color: #c4a030;
        }

        /* Estilos para formularios */
        .form-container {
            max-width: 500px;
            margin: 40px auto;
            background-color: #222;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
        }

        .form-header {
            margin-bottom: 20px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #d4af37;
        }

        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #444;
            border-radius: 5px;
            font-size: 1rem;
            background-color: #333;
            color: #f5f5f5;
        }

        .form-control:focus {
            outline: none;
            border-color: #d4af37;
        }

        .form-footer {
            margin-top: 20px;
            text-align: center;
            color: #bbb;
        }

        .form-footer a {
            color: #d4af37;
            text-decoration: none;
        }

        .form-footer a:hover {
            text-decoration: underline;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            color: #d4af37;
            text-decoration: none;
            margin-bottom: 15px;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        /* Estilos para dashboard */
        .dashboard-header {
            background-color: #222;
            padding: 15px 0;
            border-bottom: 1px solid #333;
            margin-bottom: 30px;
        }

        .dashboard-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dashboard-logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #d4af37;
            text-decoration: none;
        }

        .dashboard-menu {
            display: flex;
            gap: 20px;
        }

        .dashboard-menu a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s;
        }

        .dashboard-menu a:hover {
            color: #d4af37;
        }

        .dashboard-user {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #d4af37;
            border: 1px solid #d4af37;
        }

        .dashboard-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #d4af37;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: #222;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            border: 1px solid #333;
        }

        .stat-title {
            font-size: 0.9rem;
            color: #bbb;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #d4af37;
        }

        /* Estilos para tabs */
        .tabs {
            margin-bottom: 30px;
        }

        .tab-list {
            display: flex;
            background-color: #333;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .tab-item {
            flex: 1;
            text-align: center;
            padding: 12px;
            cursor: pointer;
            background-color: transparent;
            border: none;
            color: #ccc;
            transition: background-color 0.3s;
        }

        .tab-item.active {
            background-color: #d4af37;
            color: #1a1a1a;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Estilos para la agenda */
        .schedule-container {
            background-color: #222;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            overflow-x: auto;
            border: 1px solid #333;
        }

        .schedule-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .schedule-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #d4af37;
        }

        .schedule-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .schedule-select {
            padding: 8px;
            border: 1px solid #444;
            border-radius: 5px;
            background-color: #333;
            color: #f5f5f5;
        }

        .schedule-grid {
            min-width: 800px;
        }

        .schedule-row {
            display: grid;
            grid-template-columns: 80px repeat(7, 1fr);
            gap: 10px;
            margin-bottom: 10px;
        }

        .schedule-cell {
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            font-size: 0.9rem;
        }

        .schedule-header-cell {
            font-weight: bold;
            color: #d4af37;
        }

        .schedule-time-cell {
            text-align: right;
            padding-right: 10px;
            color: #bbb;
        }

        .schedule-slot {
            border: 1px solid #444;
            border-radius: 5px;
            padding: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .slot-available {
            background-color: rgba(20, 83, 45, 0.3);
            color: #4ade80;
            border-color: #166534;
        }

        .slot-available:hover {
            background-color: rgba(20, 83, 45, 0.5);
        }

        .slot-booked {
            background-color: rgba(30, 64, 175, 0.3);
            color: #93c5fd;
            border-color: #1e40af;
        }

        .slot-pending {
            background-color: rgba(133, 77, 14, 0.3);
            color: #fef08a;
            border-color: #854d0e;
        }

        .slot-unavailable {
            background-color: #333;
            color: #777;
            border-color: #444;
            cursor: not-allowed;
        }

        /* Estilos para la tabla de citas */
        .appointments-table {
            width: 100%;
            border-collapse: collapse;
        }

        .appointments-table th,
        .appointments-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #333;
        }

        .appointments-table th {
            background-color: #2a2a2a;
            font-weight: 600;
            color: #d4af37;
        }

        .appointments-table tr:hover {
            background-color: #2a2a2a;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }

        .status-confirmed {
            background-color: rgba(20, 83, 45, 0.3);
            color: #4ade80;
        }

        .status-pending {
            background-color: rgba(133, 77, 14, 0.3);
            color: #fef08a;
        }

        .status-cancelled {
            background-color: rgba(153, 27, 27, 0.3);
            color: #fca5a5;
        }

        .action-buttons {
            display: flex;
            gap: 5px;
            justify-content: flex-end;
        }

        .btn-sm {
            padding: 5px 10px;
            font-size: 0.8rem;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid #444;
            color: #ccc;
        }

        .btn-outline:hover {
            background-color: #333;
        }

        .btn-success {
            background-color: #10b981;
        }

        .btn-success:hover {
            background-color: #059669;
        }

        .btn-danger {
            background-color: #ef4444;
        }

        .btn-danger:hover {
            background-color: #dc2626;
        }

        /* Estilos para búsqueda de peluqueros */
        .search-container {
            margin-bottom: 30px;
        }

        .search-input {
            width: 100%;
            padding: 12px 15px 12px 40px;
            border: 1px solid #444;
            border-radius: 5px;
            font-size: 1rem;
            background-color: #333;
            color: #f5f5f5;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23999' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: 10px center;
            background-size: 20px;
        }

        .barber-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .barber-card {
            background-color: #222;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            border: 1px solid #333;
        }

        .barber-info {
            padding: 20px;
            display: flex;
            gap: 15px;
        }

        .barber-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            color: #d4af37;
            flex-shrink: 0;
            border: 2px solid #d4af37;
        }

        .barber-details {
            flex-grow: 1;
        }

        .barber-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 5px;
            color: #d4af37;
        }

        .barber-id {
            font-size: 0.8rem;
            color: #bbb;
            margin-bottom: 5px;
        }

        .barber-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 5px;
        }

        .barber-rating svg {
            color: #f59e0b;
            fill: #f59e0b;
        }

        .barber-bio {
            font-size: 0.9rem;
            color: #ccc;
        }

        .barber-footer {
            padding: 15px;
            background-color: #2a2a2a;
            border-top: 1px solid #333;
        }

        /* Estilos para modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
        }

        .modal {
            background-color: #222;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #333;
        }

        .modal-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #d4af37;
        }

        .modal-description {
            color: #bbb;
            margin-top: 5px;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #333;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        /* Estilos para verificación de correo */
        .verification-container {
            text-align: center;
            padding: 20px;
        }

        .verification-code {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .verification-input {
            width: 50px;
            height: 60px;
            font-size: 24px;
            text-align: center;
            border: 1px solid #444;
            border-radius: 5px;
            background-color: #333;
            color: #f5f5f5;
        }

        .verification-input:focus {
            outline: none;
            border-color: #d4af37;
        }

        .verification-timer {
            margin-top: 15px;
            color: #bbb;
        }

        .verification-resend {
            color: #d4af37;
            text-decoration: none;
            cursor: pointer;
        }

        .verification-resend:hover {
            text-decoration: underline;
        }

        /* Elementos de barbería */
        .barber-pole {
            position: fixed;
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
            width: 30px;
            height: 300px;
            background: linear-gradient(45deg, 
                #d4af37 0%, #d4af37 10%, 
                #f5f5f5 10%, #f5f5f5 20%, 
                #ef4444 20%, #ef4444 30%, 
                #d4af37 30%, #d4af37 40%, 
                #f5f5f5 40%, #f5f5f5 50%,
                #ef4444 50%, #ef4444 60%,
                #d4af37 60%, #d4af37 70%,
                #f5f5f5 70%, #f5f5f5 80%,
                #ef4444 80%, #ef4444 90%,
                #d4af37 90%, #d4af37 100%);
            background-size: 100% 100px;
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            animation: barber-pole 10s linear infinite;
            z-index: -1;
            display: none;
        }

        @keyframes barber-pole {
            0% {
                background-position: 0 0;
            }
            100% {
                background-position: 0 100px;
            }
        }

        @media (min-width: 1200px) {
            .barber-pole {
                display: block;
            }
        }

        /* Galería de cortes */
        .haircut-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .haircut-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            height: 150px;
            background-color: #333;
            border: 1px dashed #555;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .haircut-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .haircut-add {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #999;
        }

        .haircut-add svg {
            width: 30px;
            height: 30px;
            margin-bottom: 10px;
        }

        .haircut-remove {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .haircut-item:hover .haircut-remove {
            opacity: 1;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .card-container {
                flex-direction: column;
                align-items: center;
            }

            .dashboard-menu {
                display: none;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }

            .schedule-row {
                grid-template-columns: 60px repeat(7, 1fr);
                font-size: 0.8rem;
            }

            .schedule-cell {
                padding: 8px 5px;
            }

            .barber-list {
                grid-template-columns: 1fr;
            }
        }
        
        /* Asegurarse de que las páginas estén completamente ocultas */
        .page {
            display: none;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
        }
        
        .page.active {
            display: block;
            position: relative;
        }
        
        /* Estilos para notificaciones */
        .notification-badge {
            position: relative;
            display: inline-flex;
        }
        
        .notification-badge::after {
            content: attr(data-count);
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #ef4444;
            color: white;
            font-size: 10px;
            font-weight: bold;
            min-width: 16px;
            height: 16px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .notification-badge[data-count="0"]::after {
            display: none;
        }
        
        /* Estilos para la lista de citas del cliente */
        .appointment-card {
            background-color: #2a2a2a;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #333;
        }
        
        .appointment-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .appointment-title {
            font-weight: bold;
            color: #d4af37;
        }
        
        .appointment-date {
            color: #bbb;
            font-size: 0.9rem;
        }
        
        .appointment-details {
            margin-bottom: 10px;
        }
        
        .appointment-detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .appointment-detail-label {
            color: #999;
        }
        
        .appointment-detail-value {
            color: #f5f5f5;
            font-weight: 500;
        }
        
        .appointment-notes {
            background-color: #333;
            border-radius: 5px;
            padding: 10px;
            margin-top: 10px;
            color: #ccc;
            font-style: italic;
        }
        
        .appointment-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
<!-- Elemento decorativo de barbería -->
<div class="barber-pole"></div>

<!-- Página principal -->
<div id="home-page" class="page active">
    <div class="container">
        <div class="header">
            <h1>Barber Express</h1>
            <p>Sistema de reservas para peluquerías</p>
        </div>

        <div class="card-container">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M7 20.59L19 8.59V2H12.4L0.4 14L7 20.59z"></path>
                            <path d="M12 12L2 22"></path>
                        </svg>
                    </div>
                    <h2 class="card-title">Soy Peluquero</h2>
                    <p class="card-description">Gestiona tus horarios y reservas de clientes</p>
                </div>
                <div class="card-content">
                    <p>Configura tus horarios, recibe reservas y administra tu agenda semanal.</p>
                </div>
                <div class="card-footer">
                    <button class="btn" id="btn-barber-login">Acceder como Peluquero</button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </div>
                  cy="7" r="4"></circle>
                        </svg>
                    </div>
                    <h2 class="card-title">Soy Cliente</h2>
                    <p class="card-description">Encuentra a tu peluquero y reserva tu cita</p>
                </div>
                <div class="card-content">
                    <p>Busca a tu peluquero por nombre o ID, y reserva en los horarios disponibles.</p>
                </div>
                <div class="card-footer">
                    <button class="btn" id="btn-client-login">Acceder como Cliente</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Página de login de peluquero -->
<div id="barber-login" class="page">
    <div class="container">
        <div class="form-container">
            <a href="#" class="back-link" id="barber-login-back">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6"/>
                </svg>
                Volver
            </a>
            <div class="form-header">
                <h2 class="card-title">Acceso Peluquero</h2>
                <p class="card-description">Inicia sesión o regístrate como peluquero</p>
            </div>
            <form id="barber-login-form">
                <div class="form-group">
                    <label for="barber-email">Correo electrónico</label>
                    <input type="email" id="barber-email" class="form-control" placeholder="tu@correo.com" required>
                </div>
                <div class="form-group">
                    <label for="barber-password">Contraseña</label>
                    <input type="password" id="barber-password" class="form-control" required>
                </div>
                <button type="button" class="btn" id="barber-login-submit">Iniciar Sesión</button>
                <div class="form-footer">
                    <p>¿No tienes cuenta? <a href="#" id="barber-register-link">Regístrate aquí</a></p>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Página de registro de peluquero -->
<div id="barber-register" class="page">
    <div class="container">
        <div class="form-container">
            <a href="#" class="back-link" id="barber-register-back">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6"/>
                </svg>
                Volver
            </a>
            <div class="form-header">
                <h2 class="card-title">Registro de Peluquero</h2>
                <p class="card-description">Crea tu cuenta para gestionar tus citas</p>
            </div>
            <form id="barber-register-form">
                <div class="form-group">
                    <label for="barber-name">Nombre completo</label>
                    <input type="text" id="barber-name" class="form-control" placeholder="Tu nombre" required>
                </div>
                <div class="form-group">
                    <label for="barber-reg-email">Correo electrónico</label>
                    <input type="email" id="barber-reg-email" class="form-control" placeholder="tu@correo.com" required>
                </div>
                <div class="form-group">
                    <label for="barber-phone">Teléfono</label>
                    <input type="tel" id="barber-phone" class="form-control" placeholder="Tu número de teléfono" required>
                </div>
                <div class="form-group">
                    <label for="barber-reg-password">Contraseña</label>
                    <input type="password" id="barber-reg-password" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="barber-confirm-password">Confirmar contraseña</label>
                    <input type="password" id="barber-confirm-password" class="form-control" required>
                </div>
                <button type="button" class="btn" id="barber-register-submit">Registrarse</button>
                <div class="form-footer">
                    <p class="text-center">Al registrarte, recibirás un ID único que podrás compartir con tus clientes para que te encuentren fácilmente.</p>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Página de verificación de correo -->
<div id="email-verification" class="page">
    <div class="container">
        <div class="form-container">
            <div class="form-header">
                <h2 class="card-title">Verificación de Correo</h2>
                <p class="card-description">Hemos enviado un código de verificación a tu correo electrónico</p>
            </div>
            <div class="verification-container">
                <p>Ingresa el código de 6 dígitos que enviamos a tu correo:</p>
                <div class="verification-code">
                    <input type="text" maxlength="1" class="verification-input" id="code-1">
                    <input type="text" maxlength="1" class="verification-input" id="code-2">
                    <input type="text" maxlength="1" class="verification-input" id="code-3">
                    <input type="text" maxlength="1" class="verification-input" id="code-4">
                    <input type="text" maxlength="1" class="verification-input" id="code-5">
                    <input type="text" maxlength="1" class="verification-input" id="code-6">
                </div>
                <button type="button" class="btn" id="verify-code-btn">Verificar Código</button>
                <div class="verification-timer">
                    <p>¿No recibiste el código? <span id="timer">05:00</span></p>
                    <p><a href="#" class="verification-resend" id="resend-code">Reenviar código</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Página de login de cliente -->
<div id="client-login" class="page">
    <div class="container">
        <div class="form-container">
            <a href="#" class="back-link" id="client-login-back">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6"/>
                </svg>
                Volver
            </a>
            <div class="form-header">
                <h2 class="card-title">Acceso Cliente</h2>
                <p class="card-description">Inicia sesión o regístrate como cliente</p>
            </div>
            <form id="client-login-form">
                <div class="form-group">
                    <label for="client-email">Correo electrónico</label>
                    <input type="email" id="client-email" class="form-control" placeholder="tu@correo.com" required>
                </div>
                <div class="form-group">
                    <label for="client-password">Contraseña</label>
                    <input type="password" id="client-password" class="form-control" required>
                </div>
                <button type="button" class="btn" id="client-login-submit">Iniciar Sesión</button>
                <div class="form-footer">
                    <p>¿No tienes cuenta? <a href="#" id="client-register-link">Regístrate aquí</a></p>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Página de registro de cliente -->
<div id="client-register" class="page">
    <div class="container">
        <div class="form-container">
            <a href="#" class="back-link" id="client-register-back">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6"/>
                </svg>
                Volver
            </a>
            <div class="form-header">
                <h2 class="card-title">Registro de Cliente</h2>
                <p class="card-description">Crea tu cuenta para reservar citas</p>
            </div>
            <form id="client-register-form">
                <div class="form-group">
                    <label for="client-name">Nombre completo</label>
                    <input type="text" id="client-name" class="form-control" placeholder="Tu nombre" required>
                </div>
                <div class="form-group">
                    <label for="client-reg-email">Correo electrónico</label>
                    <input type="email" id="client-reg-email" class="form-control" placeholder="tu@correo.com" required>
                </div>
                <div class="form-group">
                    <label for="client-phone">Teléfono</label>
                    <input type="tel" id="client-phone" class="form-control" placeholder="Tu número de teléfono" required>
                </div>
                <div class="form-group">
                    <label for="client-reg-password">Contraseña</label>
                    <input type="password" id="client-reg-password" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="client-confirm-password">Confirmar contraseña</label>
                    <input type="password" id="client-confirm-password" class="form-control" required>
                </div>
                <button type="button" class="btn" id="client-register-submit">Registrarse</button>
            </form>
        </div>
    </div>
</div>

<!-- Dashboard de peluquero -->
<div id="barber-dashboard" class="page">
    <header class="dashboard-header">
        <div class="container">
            <div class="dashboard-nav">
                <a href="#" class="dashboard-logo">Barber Express</a>
                <div class="dashboard-menu">
                    <a href="#" id="barber-menu-schedule">Agenda</a>
                    <a href="#" id="barber-menu-appointments" class="notification-badge" data-count="0">Citas</a>
                    <a href="#" id="barber-menu-settings">Configuración</a>
                </div>
                <div class="dashboard-user">
                    <div class="avatar" id="barber-avatar"></div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="dashboard-content">
            <div class="dashboard-header-content">
                <h1 class="dashboard-title">Panel de Peluquero</h1>
                <div class="barber-id">
                    <span id="barber-id-display"></span>
                </div>
            </div>

            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-title">Citas Hoy</div>
                    <div class="stat-value" id="barber-stats-today">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Citas Pendientes</div>
                    <div class="stat-value" id="barber-stats-pending">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Citas Esta Semana</div>
                    <div class="stat-value" id="barber-stats-week">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Horarios Disponibles</div>
                    <div class="stat-value" id="barber-stats-available">0</div>
                </div>
            </div>

            <div class="tabs">
                <div class="tab-list">
                    <button class="tab-item active" id="tab-schedule">Agenda</button>
                    <button class="tab-item" id="tab-appointments">Citas</button>
                    <button class="tab-item" id="tab-settings">Configuración</button>
                </div>

                <div id="barber-schedule" class="tab-content active">
                    <div class="schedule-container">
                        <div class="schedule-header">
                            <h3 class="schedule-title">Agenda Semanal</h3>
                            <div class="schedule-controls">
                                <button class="btn btn-outline btn-sm" id="prev-week">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="m15 18-6-6 6-6"/>
                                    </svg>
                                </button>
                                <select class="schedule-select" id="week-select">
                                    <option>Semana actual</option>
                                    <option>Próxima semana</option>
                                </select>
                                <button class="btn btn-outline btn-sm" id="next-week">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="m9 18 6-6-6-6"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="schedule-grid">
                            <div class="schedule-row">
                                <div class="schedule-cell schedule-header-cell"></div>
                                <div class="schedule-cell schedule-header-cell">Lunes</div>
                                <div class="schedule-cell schedule-header-cell">Martes</div>
                                <div class="schedule-cell schedule-header-cell">Miércoles</div>
                                <div class="schedule-cell schedule-header-cell">Jueves</div>
                                <div class="schedule-cell schedule-header-cell">Viernes</div>
                                <div class="schedule-cell schedule-header-cell">Sábado</div>
                                <div class="schedule-cell schedule-header-cell">Domingo</div>
                            </div>

                            <!-- Horarios de mañana: 9:00 - 12:00 -->
                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">09:00</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">09:40</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">10:20</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">11:00</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">11:40</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                            </div>

                            <!-- Horarios de tarde: 14:00 - 19:00 -->
                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">14:00</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">14:40</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">15:20</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">16:00</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">16:40</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">17:20</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">18:00</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">18:40</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="barber-appointments" class="tab-content">
                    <div class="schedule-container">
                        <div class="schedule-header">
                            <h3 class="schedule-title">Gestión de Citas</h3>
                            <div class="search-container">
                                <input type="text" class="search-input" placeholder="Buscar citas...">
                            </div>
                        </div>

                        <table class="appointments-table">
                            <thead>
                                <tr>
                                    <th>Cliente</th>
                                    <th>Teléfono</th>
                                    <th>Fecha</th>
                                    <th>Hora</th>
                                    <th>Estado</th>
                                    <th>Notas</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="appointments-list">
                                <!-- Las citas se cargarán dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="barber-settings" class="tab-content">
                    <div class="schedule-container">
                        <h3 class="schedule-title">Configuración de Perfil</h3>
                        <form id="barber-profile-form" class="form-container" style="box-shadow: none; padding: 20px 0; background-color: transparent; border: none;">
                            <div class="form-group">
                                <label for="settings-name">Nombre completo</label>
                                <input type="text" id="settings-name" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="settings-email">Correo electrónico</label>
                                <input type="email" id="settings-email" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="settings-phone">Teléfono</label>
                                <input type="tel" id="settings-phone" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="settings-location">Ubicación</label>
                                <input type="text" id="settings-location" class="form-control" placeholder="Dirección de tu barbería">
                            </div>
                            <div class="form-group">
                                <label for="settings-bio">Biografía</label>
                                <textarea id="settings-bio" class="form-control" rows="4"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>Galería de cortes</label>
                                <p class="text-center" style="color: #bbb; font-size: 0.9rem; margin-bottom: 10px;">Sube fotos de tus mejores trabajos para atraer más clientes</p>
                                <div class="haircut-gallery">
                                    <div class="haircut-item haircut-add" id="add-haircut">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M12 5v14M5 12h14"/>
                                        </svg>
                                        <span>Agregar foto</span>
                                    </div>
                                </div>
                            </div>
                            
                            <button type="button" class="btn" id="save-settings">Guardar Cambios</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Dashboard de cliente -->
<div id="client-dashboard" class="page">
    <header class="dashboard-header">
        <div class="container">
            <div class="dashboard-nav">
                <a href="#" class="dashboard-logo">Barber Express</a>
                <div class="dashboard-menu">
                    <a href="#" id="client-menu-search">Buscar Peluquero</a>
                    <a href="#" id="client-menu-appointments" class="notification-badge" data-count="0">Mis Citas</a>
                </div>
                <div class="dashboard-user">
                    <div class="avatar" id="client-avatar"></div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="dashboard-content">
            <div class="dashboard-header-content">
                <h1 class="dashboard-title">Panel de Cliente</h1>
            </div>

            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-title">Próxima Cita</div>
                    <div class="stat-value" style="font-size: 1.2rem;" id="client-next-appointment">No hay citas programadas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Citas Pendientes</div>
                    <div class="stat-value" id="client-pending-count">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Peluqueros Favoritos</div>
                    <div class="stat-value" id="client-favorites-count">0</div>
                </div>
            </div>

            <div class="tabs">
                <div class="tab-list">
                    <button class="tab-item active" id="tab-search">Buscar Peluquero</button>
                    <button class="tab-item" id="tab-client-appointments">Mis Citas</button>
                </div>

                <div id="client-search" class="tab-content active">
                    <div class="search-container">
                        <input type="text" class="search-input" id="barber-search-input" placeholder="Buscar peluquero por nombre o ID...">
                    </div>

                    <div class="barber-list" id="barber-search-results">
                        <!-- Los resultados de búsqueda se cargarán dinámicamente -->
                    </div>
                </div>

                <div id="client-appointments" class="tab-content">
                    <div class="schedule-container">
                        <div class="schedule-header">
                            <h3 class="schedule-title">Mis Citas</h3>
                        </div>

                        <div id="client-appointments-list">
                            <!-- Las citas se cargarán dinámicamente -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Página de disponibilidad del peluquero -->
<div id="barber-availability" class="page">
    <header class="dashboard-header">
        <div class="container">
            <div class="dashboard-nav">
                <a href="#" class="dashboard-logo">Barber Express</a>
                <div class="dashboard-menu">
                    <a href="#" id="back-to-dashboard">Volver al Dashboard</a>
                </div>
                <div class="dashboard-user">
                    <div class="avatar" id="client-avatar-availability"></div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="dashboard-content">
            <div class="dashboard-header-content">
                <h1 class="dashboard-title">Reservar Cita</h1>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 20px;">
                <div>
                    <div class="card" style="padding: 20px; text-align: center;">
                        <div class="barber-avatar" id="selected-barber-avatar" style="width: 100px; height: 100px; margin: 0 auto 20px; font-size: 2rem;"></div>
                        <h2 style="font-size: 1.5rem; margin-bottom: 5px; color: #d4af37;" id="selected-barber-name"></h2>
                        <p style="color: #bbb; margin-bottom: 10px;" id="selected-barber-id"></p>
                        <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 15px;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #f59e0b; margin-right: 5px;">
                                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                            </svg>
                            <span style="font-weight: bold; color: #f5f5f5;">5.0</span>
                            <span style="color: #bbb; font-size: 0.8rem; margin-left: 5px;">(0 reseñas)</span>
                        </div>
                        <p style="margin-bottom: 20px; color: #ccc;" id="selected-barber-bio"></p>
                        <div style="border-top: 1px solid #333; padding-top: 15px; text-align: left;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span style="font-weight: 500; color: #d4af37;">Teléfono:</span>
                                <span style="color: #f5f5f5;" id="selected-barber-phone"></span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span style="font-weight: 500; color: #d4af37;">Ubicación:</span>
                                <span style="color: #f5f5f5;" id="selected-barber-location"></span>
                            </div>
                        </div>
                        <button class="btn" style="margin-top: 20px;" id="save-favorite">Guardar como Favorito</button>
                    </div>
                </div>
                <div>
                    <div class="schedule-container">
                        <div class="schedule-header">
                            <h3 class="schedule-title">Selecciona fecha y hora</h3>
                            <div class="schedule-controls">
                                <button class="btn btn-outline btn-sm" id="prev-week-availability">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="m15 18-6-6 6-6"/>
                                    </svg>
                                </button>
                                <select class="schedule-select" id="week-select-availability">
                                    <option>Semana actual</option>
                                    <option>Próxima semana</option>
                                </select>
                                <button class="btn btn-outline btn-sm" id="next-week-availability">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="m9 18 6-6-6-6"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="schedule-grid">
                            <div class="schedule-row">
                                <div class="schedule-cell schedule-header-cell"></div>
                                <div class="schedule-cell schedule-header-cell">Lunes</div>
                                <div class="schedule-cell schedule-header-cell">Martes</div>
                                <div class="schedule-cell schedule-header-cell">Miércoles</div>
                                <div class="schedule-cell schedule-header-cell">Jueves</div>
                                <div class="schedule-cell schedule-header-cell">Viernes</div>
                                <div class="schedule-cell schedule-header-cell">Sábado</div>
                                <div class="schedule-cell schedule-header-cell">Domingo</div>
                            </div>

                            <!-- Horarios de mañana: 9:00 - 12:00 -->
                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">09:00</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="09:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="09:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="09:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="09:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="09:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="09:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Domingo" data-time="09:00">Disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">09:40</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="09:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="09:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="09:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="09:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="09:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="09:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Domingo" data-time="09:40">Disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">10:20</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="10:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="10:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="10:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="10:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="10:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="10:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Domingo" data-time="10:20">Disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">11:00</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="11:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="11:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="11:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="11:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="11:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="11:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Domingo" data-time="11:00">Disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">11:40</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="11:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="11:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="11:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="11:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="11:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="11:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Domingo" data-time="11:40">Disponible</div>
                            </div>

                            <!-- Horarios de tarde: 14:00 - 19:00 -->
                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">14:00</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="14:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="14:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="14:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="14:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="14:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="14:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">14:40</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="14:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="14:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="14:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="14:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="14:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="14:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">15:20</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="15:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="15:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="15:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="15:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="15:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="15:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">16:00</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="16:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="16:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="16:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="16:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="16:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="16:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">16:40</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="16:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="16:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="16:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="16:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="16:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="16:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">17:20</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="17:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="17:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="17:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="17:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="17:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="17:20">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">18:00</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="18:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="18:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="18:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="18:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="18:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="18:00">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>

                            <div class="schedule-row">
                                <div class="schedule-cell schedule-time-cell">18:40</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Lunes" data-time="18:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Martes" data-time="18:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Miércoles" data-time="18:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Jueves" data-time="18:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Viernes" data-time="18:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-available" data-day="Sábado" data-time="18:40">Disponible</div>
                                <div class="schedule-cell schedule-slot slot-unavailable">No disponible</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de reserva -->
<div id="booking-modal" class="modal-overlay">
    <div class="modal">
        <div class="modal-header">
            <h3 class="modal-title">Confirmar Reserva</h3>
            <p class="modal-description" id="booking-description"></p>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="booking-notes">Notas adicionales (opcional)</label>
                <textarea id="booking-notes" class="form-control" placeholder="Ej: Corte de cabello y barba" rows="4"></textarea>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline" id="cancel-booking">Cancelar</button>
            <button class="btn" id="confirm-booking">Confirmar Reserva</button>
        </div>
    </div>
</div>

<!-- Modal de mensaje -->
<div id="message-modal" class="modal-overlay">
    <div class="modal" style="max-width: 400px;">
        <div class="modal-header">
            <h3 class="modal-title" id="message-title">Mensaje</h3>
        </div>
        <div class="modal-body">
            <p id="message-content" style="text-align: center; margin: 10px 0 20px;"></p>
        </div>
        <div class="modal-footer" style="justify-content: center;">
            <button class="btn" id="message-ok" style="max-width: 150px;">Aceptar</button>
        </div>
    </div>
</div>

<script>
// Función para mostrar el modal de mensaje
function showMessage(title, message, callback) {
    document.getElementById('message-title').textContent = title;
    document.getElementById('message-content').textContent = message;
    document.getElementById('message-modal').style.display = 'flex';
    
    // Configurar el botón de aceptar
    const okButton = document.getElementById('message-ok');
    okButton.onclick = function() {
        document.getElementById('message-modal').style.display = 'none';
        if (callback && typeof callback === 'function') {
            callback();
        }
    };
}

// Función para cambiar de página
function showPage(pageId) {
    // Ocultar todas las páginas
    document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
    });
    
    // Mostrar la página solicitada
    document.getElementById(pageId).classList.add('active');
}

// Función para generar un ID único
function generateUniqueId() {
    return 'ID-' + Math.random().toString(36).substr(2, 9).toUpperCase();
}

// Función para guardar datos en localStorage
function saveToLocalStorage(key, data) {
    localStorage.setItem(key, JSON.stringify(data));
}

// Función para obtener datos de localStorage
function getFromLocalStorage(key) {
    const data = localStorage.getItem(key);
    return data ? JSON.parse(data) : null;
}

// Inicializar datos si no existen
function initializeData() {
    if (!getFromLocalStorage('barbers')) {
        saveToLocalStorage('barbers', []);
    }
    
    if (!getFromLocalStorage('clients')) {
        saveToLocalStorage('clients', []);
    }
    
    if (!getFromLocalStorage('appointments')) {
        saveToLocalStorage('appointments', []);
    }
}

// Función para registrar un peluquero
function registerBarber(name, email, phone, password) {
    const barbers = getFromLocalStorage('barbers') || [];
    
    // Verificar si el correo ya está registrado
    if (barbers.some(barber => barber.email === email)) {
        return { success: false, message: 'Este correo electrónico ya está registrado.' };
    }
    
    const newBarber = {
        id: generateUniqueId(),
        name,
        email,
        phone,
        password,
        bio: '',
        location: '',
        schedule: {},
        gallery: []
    };
    
    barbers.push(newBarber);
    saveToLocalStorage('barbers', barbers);
    
    return { success: true, barber: newBarber };
}

// Función para iniciar sesión como peluquero
function loginBarber(email, password) {
    const barbers = getFromLocalStorage('barbers') || [];
    const barber = barbers.find(b => b.email === email && b.password === password);
    
    if (barber) {
        // Guardar la sesión actual
        saveToLocalStorage('currentBarber', barber);
        return { success: true, barber };
    } else {
        return { success: false, message: 'Correo electrónico o contraseña incorrectos.' };
    }
}

// Función para registrar un cliente
function registerClient(name, email, phone, password) {
    const clients = getFromLocalStorage('clients') || [];
    
    // Verificar si el correo ya está registrado
    if (clients.some(client => client.email === email)) {
        return { success: false, message: 'Este correo electrónico ya está registrado.' };
    }
    
    const newClient = {
        id: generateUniqueId(),
        name,
        email,
        phone,
        password,
        favorites: []
    };
    
    clients.push(newClient);
    saveToLocalStorage('clients', clients);
    
    return { success: true, client: newClient };
}

// Función para iniciar sesión como cliente
function loginClient(email, password) {
    const clients = getFromLocalStorage('clients') || [];
    const client = clients.find(c => c.email === email && c.password === password);
    
    if (client) {
        // Guardar la sesión actual
        saveToLocalStorage('currentClient', client);
        return { success: true, client };
    } else {
        return { success: false, message: 'Correo electrónico o contraseña incorrectos.' };
    }
}

// Función para actualizar el perfil del peluquero
function updateBarberProfile(barberId, data) {
    const barbers = getFromLocalStorage('barbers') || [];
    const index = barbers.findIndex(b => b.id === barberId);
    
    if (index !== -1) {
        barbers[index] = { ...barbers[index], ...data };
        saveToLocalStorage('barbers', barbers);
        
        // Actualizar la sesión actual si es el mismo peluquero
        const currentBarber = getFromLocalStorage('currentBarber');
        if (currentBarber && currentBarber.id === barberId) {
            saveToLocalStorage('currentBarber', barbers[index]);
        }
        
        return { success: true, barber: barbers[index] };
    } else {
        return { success: false, message: 'Peluquero no encontrado.' };
    }
}

// Función para buscar peluqueros
function searchBarbers(query) {
    const barbers = getFromLocalStorage('barbers') || [];
    
    if (!query) {
        return barbers;
    }
    
    query = query.toLowerCase();
    return barbers.filter(barber => 
        barber.name.toLowerCase().includes(query) || 
        barber.id.toLowerCase().includes(query)
    );
}

// Función para crear una cita
function createAppointment(barberId, clientId, day, time, notes) {
    const appointments = getFromLocalStorage('appointments') || [];
    
    const newAppointment = {
        id: generateUniqueId(),
        barberId,
        clientId,
        day,
        time,
        notes,
        status: 'pending',
        createdAt: new Date().toISOString()
    };
    
    appointments.push(newAppointment);
    saveToLocalStorage('appointments', appointments);
    
    return { success: true, appointment: newAppointment };
}

// Función para obtener las citas de un peluquero
function getBarberAppointments(barberId) {
    const appointments = getFromLocalStorage('appointments') || [];
    return appointments.filter(appointment => appointment.barberId === barberId);
}

// Función para obtener las citas de un cliente
function getClientAppointments(clientId) {
    const appointments = getFromLocalStorage('appointments') || [];
    return appointments.filter(appointment => appointment.clientId === clientId);
}

// Función para actualizar el estado de una cita
function updateAppointmentStatus(appointmentId, status) {
    const appointments = getFromLocalStorage('appointments') || [];
    const index = appointments.findIndex(a => a.id === appointmentId);
    
    if (index !== -1) {
        appointments[index].status = status;
        saveToLocalStorage('appointments', appointments);
        return { success: true, appointment: appointments[index] };
    } else {
        return { success: false, message: 'Cita no encontrada.' };
    }
}

// Función para agregar un peluquero a favoritos
function addBarberToFavorites(clientId, barberId) {
    const clients = getFromLocalStorage('clients') || [];
    const index = clients.findIndex(c => c.id === clientId);
    
    if (index !== -1) {
        if (!clients[index].favorites.includes(barberId)) {
            clients[index].favorites.push(barberId);
            saveToLocalStorage('clients', clients);
            
            // Actualizar la sesión actual si es el mismo cliente
            const currentClient = getFromLocalStorage('currentClient');
            if (currentClient && currentClient.id === clientId) {
                saveToLocalStorage('currentClient', clients[index]);
            }
        }
        
        return { success: true, client: clients[index] };
    } else {
        return { success: false, message: 'Cliente no encontrado.' };
    }
}

// Función para obtener un peluquero por ID
function getBarberById(barberId) {
    const barbers = getFromLocalStorage('barbers') || [];
    return barbers.find(barber => barber.id === barberId);
}

// Función para obtener un cliente por ID
function getClientById(clientId) {
    const clients = getFromLocalStorage('clients') || [];
    return clients.find(client => client.id === clientId);
}

// Función para renderizar los resultados de búsqueda de peluqueros
function renderBarberSearchResults(barbers) {
    const resultsContainer = document.getElementById('barber-search-results');
    resultsContainer.innerHTML = '';
    
    if (barbers.length === 0) {
        resultsContainer.innerHTML = '<p class="text-center" style="color: #bbb; margin-top: 20px;">No se encontraron peluqueros. Intenta con otro término de búsqueda.</p>';
        return;
    }
    
    barbers.forEach(barber => {
        const barberCard = document.createElement('div');
        barberCard.className = 'barber-card';
        
        barberCard.innerHTML = `
            <div class="barber-info">
                <div class="barber-avatar">${barber.name.charAt(0)}</div>
                <div class="barber-details">
                    <h3 class="barber-name">${barber.name}</h3>
                    <p class="barber-id">${barber.id}</p>
                    <div class="barber-rating">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                        </svg>
                        <span>5.0</span>
                    </div>
                    <p class="barber-bio">${barber.bio || 'Sin descripción'}</p>
                </div>
            </div>
            <div class="barber-footer">
                <button class="btn" data-barber-id="${barber.id}">Ver disponibilidad</button>
            </div>
        `;
        
        resultsContainer.appendChild(barberCard);
        
        // Agregar evento al botón de ver disponibilidad
        const viewButton = barberCard.querySelector('.btn');
        viewButton.addEventListener('click', function() {
            const barberId = this.getAttribute('data-barber-id');
            viewBarberAvailability(barberId);
        });
    });
}

// Función para ver la disponibilidad de un peluquero
function viewBarberAvailability(barberId) {
    const barber = getBarberById(barberId);
    if (!barber) {
        showMessage('Error', 'Peluquero no encontrado.');
        return;
    }
    
    // Actualizar la información del peluquero en la página de disponibilidad
    document.getElementById('selected-barber-avatar').textContent = barber.name.charAt(0);
    document.getElementById('selected-barber-name').textContent = barber.name;
    document.getElementById('selected-barber-id').textContent = `ID: ${barber.id}`;
    document.getElementById('selected-barber-bio').textContent = barber.bio || 'Sin descripción';
    document.getElementById('selected-barber-phone').textContent = barber.phone || 'No disponible';
    document.getElementById('selected-barber-location').textContent = barber.location || 'No disponible';
    
    // Configurar el botón de favoritos
    const saveButton = document.getElementById('save-favorite');
    saveButton.setAttribute('data-barber-id', barber.id);
    
    // Configurar los slots de disponibilidad
    const availableSlots = document.querySelectorAll('#barber-availability .schedule-slot.slot-available');
    availableSlots.forEach(slot => {
        slot.addEventListener('click', function() {
            const day = this.getAttribute('data-day');
            const time = this.getAttribute('data-time');
            
            // Mostrar modal de confirmación
            document.getElementById('booking-description').textContent = `Reserva con ${barber.name} para el ${day} a las ${time}`;
            
            // Configurar el botón de confirmar reserva
            const confirmButton = document.getElementById('confirm-booking');
            confirmButton.setAttribute('data-barber-id', barber.id);
            confirmButton.setAttribute('data-day', day);
            confirmButton.setAttribute('data-time', time);
            
            // Mostrar el modal
            document.getElementById('booking-modal').style.display = 'flex';
        });
    });
    
    // Mostrar la página de disponibilidad
    showPage('barber-availability');
    
    // Actualizar el avatar del cliente en la página de disponibilidad
    const currentClient = getFromLocalStorage('currentClient');
    if (currentClient) {
        document.getElementById('client-avatar-availability').textContent = currentClient.name.charAt(0);
    }
}

// Función para renderizar las citas de un peluquero
function renderBarberAppointments(barberId) {
    const appointments = getBarberAppointments(barberId);
    const appointmentsList = document.getElementById('appointments-list');
    appointmentsList.innerHTML = '';
    
    if (appointments.length === 0) {
        appointmentsList.innerHTML = '<tr><td colspan="7" class="text-center">No tienes citas programadas.</td></tr>';
        return;
    }
    
    // Ordenar citas por fecha y hora
    appointments.sort((a, b) => {
        const dateA = new Date(a.createdAt);
        const dateB = new Date(b.createdAt);
        return dateB - dateA;
    });
    
    appointments.forEach(appointment => {
        const client = getClientById(appointment.clientId);
        
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${client ? client.name : 'Cliente desconocido'}</td>
            <td>${client ? client.phone : 'N/A'}</td>
            <td>${appointment.day}</td>
            <td>${appointment.time}</td>
            <td>
                <span class="status-badge status-${appointment.status}">
                    ${appointment.status === 'pending' ? 'Pendiente' : 
                      appointment.status === 'confirmed' ? 'Confirmada' : 'Cancelada'}
                </span>
            </td>
            <td>${appointment.notes || 'Sin notas'}</td>
            <td class="action-buttons">
                ${appointment.status === 'pending' ? `
                    <button class="btn btn-sm btn-success confirm-appointment" data-id="${appointment.id}">Confirmar</button>
                    <button class="btn btn-sm btn-danger cancel-appointment" data-id="${appointment.id}">Cancelar</button>
                ` : ''}
            </td>
        `;
        
        appointmentsList.appendChild(row);
    });
    
    // Agregar eventos a los botones de acción
    document.querySelectorAll('.confirm-appointment').forEach(button => {
        button.addEventListener('click', function() {
            const appointmentId = this.getAttribute('data-id');
            updateAppointmentStatus(appointmentId, 'confirmed');
            renderBarberAppointments(barberId);
            updateBarberStats(barberId);
            showMessage('Cita Confirmada', 'La cita ha sido confirmada exitosamente.');
        });
    });
    
    document.querySelectorAll('.cancel-appointment').forEach(button => {
        button.addEventListener('click', function() {
            const appointmentId = this.getAttribute('data-id');
            updateAppointmentStatus(appointmentId, 'cancelled');
            renderBarberAppointments(barberId);
            updateBarberStats(barberId);
            showMessage('Cita Cancelada', 'La cita ha sido cancelada exitosamente.');
        });
    });
}

// Función para renderizar las citas de un cliente
function renderClientAppointments(clientId) {
    const appointments = getClientAppointments(clientId);
    const appointmentsList = document.getElementById('client-appointments-list');
    appointmentsList.innerHTML = '';
    
    if (appointments.length === 0) {
        appointmentsList.innerHTML = '<p class="text-center" style="color: #bbb; margin-top: 20px;">No tienes citas programadas.</p>';
        return;
    }
    
    // Ordenar citas por fecha y hora
    appointments.sort((a, b) => {
        const dateA = new Date(a.createdAt);
        const dateB = new Date(b.createdAt);
        return dateB - dateA;
    });
    
    appointments.forEach(appointment => {
        const barber = getBarberById(appointment.barberId);
        
        const appointmentCard = document.createElement('div');
        appointmentCard.className = 'appointment-card';
        
        appointmentCard.innerHTML = `
            <div class="appointment-header">
                <div class="appointment-title">Cita con ${barber ? barber.name : 'Peluquero desconocido'}</div>
                <div class="appointment-date">${appointment.day}</div>
            </div>
            <div class="appointment-details">
                <div class="appointment-detail-row">
                    <div class="appointment-detail-label">Hora:</div>
                    <div class="appointment-detail-value">${appointment.time}</div>
                </div>
                <div class="appointment-detail-row">
                    <div class="appointment-detail-label">Estado:</div>
                    <div class="appointment-detail-value">
                        <span class="status-badge status-${appointment.status}">
                            ${appointment.status === 'pending' ? 'Pendiente' : 
                              appointment.status === 'confirmed' ? 'Confirmada' : 'Cancelada'}
                        </span>
                    </div>
                </div>
                ${barber ? `
                <div class="appointment-detail-row">
                    <div class="appointment-detail-label">Teléfono:</div>
                    <div class="appointment-detail-value">${barber.phone || 'No disponible'}</div>
                </div>
                <div class="appointment-detail-row">
                    <div class="appointment-detail-label">Ubicación:</div>
                    <div class="appointment-detail-value">${barber.location || 'No disponible'}</div>
                </div>
                ` : ''}
            </div>
            ${appointment.notes ? `
            <div class="appointment-notes">
                ${appointment.notes}
            </div>
            ` : ''}
            ${appointment.status === 'pending' ? `
            <div class="appointment-actions">
                <button class="btn btn-sm btn-danger cancel-client-appointment" data-id="${appointment.id}">Cancelar Cita</button>
            </div>
            ` : ''}
        `;
        
        appointmentsList.appendChild(appointmentCard);
    });
    
    // Agregar eventos a los botones de acción
    document.querySelectorAll('.cancel-client-appointment').forEach(button => {
        button.addEventListener('click', function() {
            const appointmentId = this.getAttribute('data-id');
            updateAppointmentStatus(appointmentId, 'cancelled');
            renderClientAppointments(clientId);
            updateClientStats(clientId);
            showMessage('Cita Cancelada', 'La cita ha sido cancelada exitosamente.');
        });
    });
}

// Función para actualizar las estadísticas del peluquero
function updateBarberStats(barberId) {
    const appointments = getBarberAppointments(barberId);
    
    // Citas de hoy
    const today = new Date().toLocaleDateString('es-ES', { weekday: 'long' });
    const todayAppointments = appointments.filter(a => 
        a.day.toLowerCase() === today.toLowerCase() && 
        (a.status === 'confirmed' || a.status === 'pending')
    );
    
    // Citas pendientes
    const pendingAppointments = appointments.filter(a => a.status === 'pending');
    
    // Citas esta semana
    const weekdays = ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo'];
    const weekAppointments = appointments.filter(a => 
        weekdays.includes(a.day) && 
        (a.status === 'confirmed' || a.status === 'pending')
    );
    
    // Horarios disponibles
    const totalSlots = 13 * 7; // 13 horarios por día, 7 días a la semana
    const bookedSlots = appointments.filter(a => 
        a.status === 'confirmed' || a.status === 'pending'
    ).length;
    const availableSlots = totalSlots - bookedSlots;
    
    // Actualizar los elementos en el DOM
    document.getElementById('barber-stats-today').textContent = todayAppointments.length;
    document.getElementById('barber-stats-pending').textContent = pendingAppointments.length;
    document.getElementById('barber-stats-week').textContent = weekAppointments.length;
    document.getElementById('barber-stats-available').textContent = availableSlots;
    
    // Actualizar el contador de notificaciones
    document.getElementById('barber-menu-appointments').setAttribute('data-count', pendingAppointments.length);
}

// Función para actualizar las estadísticas del cliente
function updateClientStats(clientId) {
    const appointments = getClientAppointments(clientId);
    const client = getClientById(clientId);
    
    // Próxima cita
    const pendingAppointments = appointments.filter(a => 
        a.status === 'confirmed' || a.status === 'pending'
    );
    
    let nextAppointmentText = 'No hay citas programadas';
    if (pendingAppointments.length > 0) {
        const nextAppointment = pendingAppointments[0];
        const barber = getBarberById(nextAppointment.barberId);
        nextAppointmentText = `${nextAppointment.day} a las ${nextAppointment.time} con ${barber ? barber.name : 'Peluquero'}`;
    }
    
    // Citas pendientes
    const pendingCount = appointments.filter(a => a.status === 'pending').length;
    
    // Peluqueros favoritos
    const favoritesCount = client ? client.favorites.length : 0;
    
    // Actualizar los elementos en el DOM
    document.getElementById('client-next-appointment').textContent = nextAppointmentText;
    document.getElementById('client-pending-count').textContent = pendingCount;
    document.getElementById('client-favorites-count').textContent = favoritesCount;
    
    // Actualizar el contador de notificaciones
    document.getElementById('client-menu-appointments').setAttribute('data-count', pendingCount);
}

// Inicializar la aplicación
document.addEventListener('DOMContentLoaded', function() {
    // Inicializar datos
    initializeData();
    
    // Eventos para la página principal
    document.getElementById('btn-barber-login').addEventListener('click', function() {
        showPage('barber-login');
    });
    
    document.getElementById('btn-client-login').addEventListener('click', function() {
        showPage('client-login');
    });
    
    // Eventos para la página de login de peluquero
    document.getElementById('barber-login-back').addEventListener('click', function(e) {
        e.preventDefault();
        showPage('home-page');
    });
    
    document.getElementById('barber-register-link').addEventListener('click', function(e) {
        e.preventDefault();
        showPage('barber-register');
    });
    
    document.getElementById('barber-login-submit').addEventListener('click', function() {
        const email = document.getElementById('barber-email').value;
        const password = document.getElementById('barber-password').value;
        
        if (!email || !password) {
            showMessage('Error', 'Por favor, completa todos los campos.');
            return;
        }
        
        const result = loginBarber(email, password);
        
        if (result.success) {
            // Actualizar la información del peluquero en el dashboard
            document.getElementById('barber-avatar').textContent = result.barber.name.charAt(0);
            document.getElementById('barber-id-display').textContent = `ID: ${result.barber.id}`;
            
            // Cargar los datos del perfil en la configuración
            document.getElementById('settings-name').value = result.barber.name;
            document.getElementById('settings-email').value = result.barber.email;
            document.getElementById('settings-phone').value = result.barber.phone;
            document.getElementById('settings-location').value = result.barber.location || '';
            document.getElementById('settings-bio').value = result.barber.bio || '';
            
            // Actualizar las estadísticas
            updateBarberStats(result.barber.id);
            
            // Renderizar las citas
            renderBarberAppointments(result.barber.id);
            
            // Mostrar el dashboard
            showPage('barber-dashboard');
        } else {
            showMessage('Error', result.message);
        }
    });
    
    // Eventos para la página de registro de peluquero
    document.getElementById('barber-register-back').addEventListener('click', function(e) {
        e.preventDefault();
        showPage('barber-login');
    });
    
    document.getElementById('barber-register-submit').addEventListener('click', function() {
        const name = document.getElementById('barber-name').value;
        const email = document.getElementById('barber-reg-email').value;
        const phone = document.getElementById('barber-phone').value;
        const password = document.getElementById('barber-reg-password').value;
        const confirmPassword = document.getElementById('barber-confirm-password').value;
        
        if (!name || !email || !phone || !password || !confirmPassword) {
            showMessage('Error', 'Por favor, completa todos los campos.');
            return;
        }
        
        if (password !== confirmPassword) {
            showMessage('Error', 'Las contraseñas no coinciden.');
            return;
        }
        
        const result = registerBarber(name, email, phone, password);
        
        if (result.success) {
            // Guardar la sesión actual
            saveToLocalStorage('currentBarber', result.barber);
            
            // Actualizar la información del peluquero en el dashboard
            document.getElementById('barber-avatar').textContent = result.barber.name.charAt(0);
            document.getElementById('barber-id-display').textContent = `ID: ${result.barber.id}`;
            
            // Cargar los datos del perfil en la configuración
            document.getElementById('settings-name').value = result.barber.name;
            document.getElementById('settings-email').value = result.barber.email;
            document.getElementById('settings-phone').value = result.barber.phone;
            document.getElementById('settings-location').value = result.barber.location || '';
            document.getElementById('settings-bio').value = result.barber.bio || '';
            
            // Actualizar las estadísticas
            updateBarberStats(result.barber.id);
            
            // Mostrar mensaje de éxito y luego ir al dashboard
            showMessage('Registro Exitoso', `Tu ID único es: ${result.barber.id}. Compártelo con tus clientes para que te encuentren fácilmente.`, function() {
                showPage('barber-dashboard');
            });
        } else {
            showMessage('Error', result.message);
        }
    });
    
    // Eventos para la página de login de cliente
    document.getElementById('client-login-back').addEventListener('click', function(e) {
        e.preventDefault();
        showPage('home-page');
    });
    
    document.getElementById('client-register-link').addEventListener('click', function(e) {
        e.preventDefault();
        showPage('client-register');
    });
    
    document.getElementById('client-login-submit').addEventListener('click', function() {
        const email = document.getElementById('client-email').value;
        const password = document.getElementById('client-password').value;
        
        if (!email || !password) {
            showMessage('Error', 'Por favor, completa todos los campos.');
            return;
        }
        
        const result = loginClient(email, password);
        
        if (result.success) {
            // Actualizar la información del cliente en el dashboard
            document.getElementById('client-avatar').textContent = result.client.name.charAt(0);
            
            // Actualizar las estadísticas
            updateClientStats(result.client.id);
            
            // Renderizar las citas
            renderClientAppointments(result.client.id);
            
            // Mostrar el dashboard
            showPage('client-dashboard');
            
            // Cargar todos los peluqueros en la búsqueda
            renderBarberSearchResults(searchBarbers(''));
        } else {
            showMessage('Error', result.message);
        }
    });
    
    // Eventos para la página de registro de cliente
    document.getElementById('client-register-back').addEventListener('click', function(e) {
        e.preventDefault();
        showPage('client-login');
    });
    
    document.getElementById('client-register-submit').addEventListener('click', function() {
        const name = document.getElementById('client-name').value;
        const email = document.getElementById('client-reg-email').value;
        const phone = document.getElementById('client-phone').value;
        const password = document.getElementById('client-reg-password').value;
        const confirmPassword = document.getElementById('client-confirm-password').value;
        
        if (!name || !email || !phone || !password || !confirmPassword) {
            showMessage('Error', 'Por favor, completa todos los campos.');
            return;
        }
        
        if (password !== confirmPassword) {
            showMessage('Error', 'Las contraseñas no coinciden.');
            return;
        }
        
        const result = registerClient(name, email, phone, password);
        
        if (result.success) {
            // Guardar la sesión actual
            saveToLocalStorage('currentClient', result.client);
            
            // Actualizar la información del cliente en el dashboard
            document.getElementById('client-avatar').textContent = result.client.name.charAt(0);
            
            // Actualizar las estadísticas
            updateClientStats(result.client.id);
            
            // Mostrar mensaje de éxito y luego ir al dashboard
            showMessage('Registro Exitoso', 'Tu cuenta ha sido creada exitosamente. Ahora puedes buscar peluqueros y reservar citas.', function() {
                showPage('client-dashboard');
                
                // Cargar todos los peluqueros en la búsqueda
                renderBarberSearchResults(searchBarbers(''));
            });
        } else {
            showMessage('Error', result.message);
        }
    });
    
    // Eventos para el dashboard de peluquero
    document.getElementById('barber-menu-schedule').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('tab-schedule').click();
    });
    
    document.getElementById('barber-menu-appointments').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('tab-appointments').click();
    });
    
    document.getElementById('barber-menu-settings').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('tab-settings').click();
    });
    
    document.getElementById('tab-schedule').addEventListener('click', function() {
        document.querySelectorAll('.tab-item').forEach(tab => tab.classList.remove('active'));
        this.classList.add('active');
        
        document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
        document.getElementById('barber-schedule').classList.add('active');
    });
    
    document.getElementById('tab-appointments').addEventListener('click', function() {
        document.querySelectorAll('.tab-item').forEach(tab => tab.classList.remove('active'));
        this.classList.add('active');
        
        document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
        document.getElementById('barber-appointments').classList.add('active');
        
        // Actualizar la lista de citas
        const currentBarber = getFromLocalStorage('currentBarber');
        if (currentBarber) {
            renderBarberAppointments(currentBarber.id);
        }
    });
    
    document.getElementById('tab-settings').addEventListener('click', function() {
        document.querySelectorAll('.tab-item').forEach(tab => tab.classList.remove('active'));
        this.classList.add('active');
        
        document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
        document.getElementById('barber-settings').classList.add('active');
    });
    
    document.getElementById('save-settings').addEventListener('click', function() {
        const currentBarber = getFromLocalStorage('currentBarber');
        if (!currentBarber) {
            showMessage('Error', 'No se pudo encontrar la información del peluquero.');
            return;
        }
        
        const name = document.getElementById('settings-name').value;
        const email = document.getElementById('settings-email').value;
        const phone = document.getElementById('settings-phone').value;
        const location = document.getElementById('settings-location').value;
        const bio = document.getElementById('settings-bio').value;
        
        if (!name || !email || !phone) {
            showMessage('Error', 'Por favor, completa los campos obligatorios.');
            return;
        }
        
        const result = updateBarberProfile(currentBarber.id, {
            name,
            email,
            phone,
            location,
            bio
        });
        
        if (result.success) {
            // Actualizar la información del peluquero en el dashboard
            document.getElementById('barber-avatar').textContent = result.barber.name.charAt(0);
            
            showMessage('Éxito', 'Tu perfil ha sido actualizado exitosamente.');
        } else {
            showMessage('Error', result.message);
        }
    });
    
    // Eventos para el dashboard de cliente
    document.getElementById('client-menu-search').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('tab-search').click();
    });
    
    document.getElementById('client-menu-appointments').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('tab-client-appointments').click();
    });
    
    document.getElementById('tab-search').addEventListener('click', function() {
        document.querySelectorAll('.tab-item').forEach(tab => tab.classList.remove('active'));
        this.classList.add('active');
        
        document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
        document.getElementById('client-search').classList.add('active');
    });
    
    document.getElementById('tab-client-appointments').addEventListener('click', function() {
        document.querySelectorAll('.tab-item').forEach(tab => tab.classList.remove('active'));
        this.classList.add('active');
        
        document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
        document.getElementById('client-appointments').classList.add('active');
        
        // Actualizar la lista de citas
        const currentClient = getFromLocalStorage('currentClient');
        if (currentClient) {
            renderClientAppointments(currentClient.id);
        }
    });
    
    document.getElementById('barber-search-input').addEventListener('input', function() {
        const query = this.value.trim();
        const results = searchBarbers(query);
        renderBarberSearchResults(results);
    });
    
    // Eventos para la página de disponibilidad del peluquero
    document.getElementById('back-to-dashboard').addEventListener('click', function(e) {
        e.preventDefault();
        showPage('client-dashboard');
    });
    
    document.getElementById('save-favorite').addEventListener('click', function() {
        const currentClient = getFromLocalStorage('currentClient');
        if (!currentClient) {
            showMessage('Error', 'Debes iniciar sesión para guardar favoritos.');
            return;
        }
        
        const barberId = this.getAttribute('data-barber-id');
        const result = addBarberToFavorites(currentClient.id, barberId);
        
        if (result.success) {
            showMessage('Éxito', 'Peluquero añadido a favoritos.');
            updateClientStats(currentClient.id);
        } else {
            showMessage('Error', result.message);
        }
    });
    
    // Eventos para el modal de reserva
    document.getElementById('cancel-booking').addEventListener('click', function() {
        document.getElementById('booking-modal').style.display = 'none';
    });
    
    document.getElementById('confirm-booking').addEventListener('click', function() {
        const currentClient = getFromLocalStorage('currentClient');
        if (!currentClient) {
            showMessage('Error', 'Debes iniciar sesión para reservar una cita.');
            return;
        }
        
        const barberId = this.getAttribute('data-barber-id');
        const day = this.getAttribute('data-day');
        const time = this.getAttribute('data-time');
        const notes = document.getElementById('booking-notes').value;
        
        const result = createAppointment(barberId, currentClient.id, day, time, notes);
        
        if (result.success) {
            // Ocultar el modal
            document.getElementById('booking-modal').style.display = 'none';
            
            // Actualizar la lista de citas del cliente
            renderClientAppointments(currentClient.id);
            updateClientStats(currentClient.id);
            
            // Mostrar mensaje de éxito
            showMessage('Reserva Exitosa', 'Tu cita ha sido reservada exitosamente. El peluquero debe confirmarla.');
            
            // Marcar el slot como reservado
            const slot = document.querySelector(`#barber-availability .schedule-slot[data-day="${day}"][data-time="${time}"]`);
            if (slot) {
                slot.classList.remove('slot-available');
                slot.classList.add('slot-pending');
                slot.textContent = 'Pendiente';
                slot.removeEventListener('click', null);
            }
        } else {
            showMessage('Error', 'No se pudo crear la reserva. Inténtalo de nuevo.');
        }
    });
    
    // Verificar si hay una sesión activa
    const currentBarber = getFromLocalStorage('currentBarber');
    if (currentBarber) {
        // Actualizar la información del peluquero en el dashboard
        document.getElementById('barber-avatar').textContent = currentBarber.name.charAt(0);
        document.getElementById('barber-id-display').textContent = `ID: ${currentBarber.id}`;
        
        // Cargar los datos del perfil en la configuración
        document.getElementById('settings-name').value = currentBarber.name;
        document.getElementById('settings-email').value = currentBarber.email;
        document.getElementById('settings-phone').value = currentBarber.phone;
        document.getElementById('settings-location').value = currentBarber.location || '';
        document.getElementById('settings-bio').value = currentBarber.bio || '';
        
        // Actualizar las estadísticas
        updateBarberStats(currentBarber.id);
        
        // Renderizar las citas
        renderBarberAppointments(currentBarber.id);
        
        // Mostrar el dashboard
        showPage('barber-dashboard');
    }
    
    const currentClient = getFromLocalStorage('currentClient');
    if (currentClient && !currentBarber) {
        // Actualizar la información del cliente en el dashboard
        document.getElementById('client-avatar').textContent = currentClient.name.charAt(0);
        
        // Actualizar las estadísticas
        updateClientStats(currentClient.id);
        
        // Renderizar las citas
        renderClientAppointments(currentClient.id);
        
        // Mostrar el dashboard
        showPage('client-dashboard');
        
        // Cargar todos los peluqueros en la búsqueda
        renderBarberSearchResults(searchBarbers(''));
    }
});
</script>
